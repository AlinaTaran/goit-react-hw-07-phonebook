(this["webpackJsonpgoit-react-hw-07-phonebook"]=this["webpackJsonpgoit-react-hw-07-phonebook"]||[]).push([[0],{10:function(t,e,n){t.exports={input:"ContactForm_input__y7xhh",button:"ContactForm_button__3D6y1"}},29:function(t,e,n){t.exports={Container:"Container_Container__1ctzm"}},63:function(t,e,n){"use strict";n.r(e);var c={};n.r(c),n.d(c,"fetchContactsRequest",(function(){return k})),n.d(c,"fetchContactsSuccess",(function(){return y})),n.d(c,"fetchContactsError",(function(){return w})),n.d(c,"addContactRequest",(function(){return N})),n.d(c,"addContactSuccess",(function(){return q})),n.d(c,"addContactError",(function(){return F})),n.d(c,"deleteContactRequest",(function(){return S})),n.d(c,"deleteContactSuccess",(function(){return E})),n.d(c,"deleteContactError",(function(){return L})),n.d(c,"changeFilter",(function(){return R}));var r={};n.r(r),n.d(r,"fetchContacts",(function(){return T})),n.d(r,"addContact",(function(){return D})),n.d(r,"deleteContact",(function(){return I}));var a={};n.r(a),n.d(a,"getContacts",(function(){return J})),n.d(a,"getFilter",(function(){return P})),n.d(a,"filteredContacts",(function(){return z}));var o=n(1),u=n(0),s=n.n(u),i=n(12),b=n.n(i),d=n(29),l=n.n(d),j=function(t){var e=t.children;return Object(o.jsx)("div",{className:l.a.Container,children:e})},f=n(19),O=n(30),h=n.n(O),m=n(8),p=n(2),C=n.n(p),x=n(9),v=n(14),g=n.n(v),_=n(5),k=Object(_.b)("contacts/fetchContactsRequest"),y=Object(_.b)("contacts/fetchContactsSuccess"),w=Object(_.b)("contacts/fetchContactsError"),N=Object(_.b)("contacts/addContactRequest"),q=Object(_.b)("contacts/addContactSuccess"),F=Object(_.b)("contacts/addContactError"),S=Object(_.b)("contacts/deleteContactRequest"),E=Object(_.b)("contacts/deleteContactSuccess"),L=Object(_.b)("contacts/deleteContactError"),R=Object(_.b)("contacts/changeFilter");g.a.defaults.baseURL="http://localhost:4040";var T=function(){return function(){var t=Object(x.a)(C.a.mark((function t(e){var n,c;return C.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e(k()),t.prev=1,t.next=4,g.a.get("/contacts");case 4:n=t.sent,c=n.data,e(y(c)),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(1),e(w(t.t0));case 12:case"end":return t.stop()}}),t,null,[[1,9]])})));return function(e){return t.apply(this,arguments)}}()},D=function(t,e){return function(){var n=Object(x.a)(C.a.mark((function n(c){var r,a,o;return C.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r={name:t,number:e},c(N()),n.prev=2,n.next=5,g.a.post("/contacts",r);case 5:a=n.sent,o=a.data,c(q(o)),n.next=13;break;case 10:n.prev=10,n.t0=n.catch(2),c(F(n.t0));case 13:case"end":return n.stop()}}),n,null,[[2,10]])})));return function(t){return n.apply(this,arguments)}}()},I=function(t){return function(){var e=Object(x.a)(C.a.mark((function e(n){return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n(S()),e.prev=1,e.next=4,g.a.delete("/contacts/".concat(t));case 4:n(E(t)),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),n(L(e.t0));case 10:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(t){return e.apply(this,arguments)}}()},J=function(t){return t.contacts.items},P=function(t){return t.contacts.filter},z=function(t){var e=J(t),n=P(t).toLowerCase();return e.filter((function(t){return t.name.toLowerCase().includes(n)}))},A=n(10),B=n.n(A);var M=function(){var t=Object(f.b)(),e=t.register,n=t.handleSubmit,c=t.errors,u=t.reset,s=t.control,i=Object(m.c)(a.getContacts),b=Object(m.b)();return Object(o.jsxs)("form",{className:B.a.form,onSubmit:n((function(t){var e=t.name,n=t.number;(function(t){var e=t.toLowerCase();return i.find((function(t){return t.name.toLowerCase()===e}))})(e)?alert("".concat(e," is already in your phonebook")):b(r.addContact(e,n)),u()})),children:[Object(o.jsxs)("label",{className:B.a.label,children:["Name",Object(o.jsx)("input",{className:B.a.input,name:"name",ref:e({minLength:{value:2,message:"Too short name"},maxLength:{value:20,message:"Too long name"},required:"Is a required field"}),type:"text"}),c.name&&Object(o.jsx)("p",{className:B.a.errors,children:c.name.message})]}),Object(o.jsxs)("label",{children:["Number",Object(o.jsx)(f.a,{as:h.a,name:"number",rules:{required:"Phone number is required"},defaultValue:"",control:s,className:B.a.input,placeholder:"+38 (___) ___-__-__",mask:"+38 (999) 999-99-99"}),c.number&&Object(o.jsx)("p",{className:B.a.errors,children:c.number.message})]}),Object(o.jsx)("button",{className:B.a.button,type:"submit",children:"Add to contact"})]})},U=function(){var t=Object(m.c)(a.getFilter),e=Object(m.b)(),n=Object(m.c)(a.getContacts);return Object(o.jsx)(o.Fragment,{children:n.length>1&&Object(o.jsxs)("label",{children:["Find contact by name",Object(o.jsx)("input",{type:"text",name:"name",value:t,onChange:function(t){return e(c.changeFilter(t.target.value))}})]})})},V=function(t){var e=t.name,n=t.number,c=t.onClick;return Object(o.jsxs)("li",{children:[Object(o.jsxs)("p",{children:[e,": ",n]}),Object(o.jsx)("button",{onClick:c,children:"Delete"})]})},G=function(){var t=Object(m.c)(a.getContacts),e=Object(m.b)(),n=Object(m.c)(a.filteredContacts);return Object(u.useEffect)((function(){return e(r.fetchContacts())}),[e]),Object(o.jsx)(o.Fragment,{children:t.length>0?Object(o.jsx)("ul",{children:n.map((function(t){var n=t.id,c=t.name,a=t.number;return Object(o.jsx)(V,{name:c,number:a,onClick:function(){return e(r.deleteContact(n))}},n)}))}):Object(o.jsx)("p",{children:"No contacts have been added to your phonebook"})})};var H,K,Q=function(){return Object(o.jsxs)(j,{children:[Object(o.jsx)("h2",{children:"Phonebook"}),Object(o.jsx)(M,{}),Object(o.jsx)("h2",{children:"Contacts"}),Object(o.jsx)(U,{}),Object(o.jsx)(G,{})]})},W=n(4),X=n(3),Y=n(7),Z=Object(_.c)([],(H={},Object(X.a)(H,y,(function(t,e){return e.payload})),Object(X.a)(H,q,(function(t,e){var n=e.payload;return[].concat(Object(W.a)(t),[n])})),Object(X.a)(H,E,(function(t,e){var n=e.payload;return t.filter((function(t){return t.id!==n}))})),H)),$=Object(_.c)(!1,(K={},Object(X.a)(K,k,(function(){return!0})),Object(X.a)(K,y,(function(){return!1})),Object(X.a)(K,w,(function(){return!1})),Object(X.a)(K,N,(function(){return!0})),Object(X.a)(K,q,(function(){return!1})),Object(X.a)(K,F,(function(){return!1})),Object(X.a)(K,S,(function(){return!0})),Object(X.a)(K,E,(function(){return!1})),Object(X.a)(K,L,(function(){return!1})),K)),tt=Object(_.c)("",Object(X.a)({},R,(function(t,e){return e.payload}))),et=Object(Y.c)({items:Z,filter:tt,loading:$}),nt=n(32),ct=n.n(nt),rt=[].concat(Object(W.a)(Object(_.d)()),[ct.a]),at=Object(_.a)({reducer:{contacts:et},middleware:rt,devTools:!1});b.a.render(Object(o.jsx)(s.a.StrictMode,{children:Object(o.jsx)(m.a,{store:at,children:Object(o.jsx)(Q,{})})}),document.getElementById("root"))}},[[63,1,2]]]);
//# sourceMappingURL=main.6ce36e75.chunk.js.map